<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://jmix.io/schema/ui/window"
        xmlns:chart="http://jmix.io/schema/charts/ui"
        caption="msg://menu.muestras-acumuladas"
        focusComponent="muestrasAcumuladasTable">
    <data>
        <collection id="muestrasAcumuladasDc"
                    class="com.meteo.entity.MuestraAcumulada"/>
    </data>
    <facets>
        <dataLoadCoordinator auto="true"/>
    </facets>
    <dialogMode height="900"
                width="1200"/>
    <layout spacing="true" expand="splitPanel">
        <!-- Botones de filtro temporal -->
        <hbox spacing="true" margin="true">
            <button id="btnSemana" caption="Última Semana"/>
            <button id="btnMes" caption="Último Mes"/>
            <button id="btnTrimestre" caption="Último Trimestre"/>
            <button id="btnAnio" caption="Último Año"/>
        </hbox>

        <split id="splitPanel" orientation="vertical" pos="60" width="100%">
            <!-- Gráfico -->
            <vbox id="chartContainer" expand="chart" height="100%" spacing="true">
                <label value="Evolución de Temperaturas y Precipitación"
                       stylename="h2"
                       align="MIDDLE_CENTER"/>
                <chart:serialChart id="chart"
                                   height="100%"
                                   width="100%"/>
            </vbox>

            <!-- Tabla de datos -->
            <vbox id="tableContainer" expand="muestrasAcumuladasTable" height="100%" spacing="true">
                <label value="Datos Acumulados"
                       stylename="h3"
                       align="MIDDLE_LEFT"/>
                <groupTable id="muestrasAcumuladasTable"
                            width="100%"
                            height="100%"
                            dataContainer="muestrasAcumuladasDc">
                    <columns>
                        <column id="fecha"/>
                        <column id="minimaPromedio" caption="Temp. Mínima Prom. (°C)"/>
                        <column id="maximaPromedio" caption="Temp. Máxima Prom. (°C)"/>
                        <column id="precipitacionTotal" caption="Precipitación Total (L/m²)"/>
                        <column id="cantidadMuestras" caption="Nº Muestras"/>
                    </columns>
                    <simplePagination/>
                </groupTable>
            </vbox>
        </split>
    </layout>
</window>
